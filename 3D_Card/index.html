<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body style="background-color:white">
    <div class="container">
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
      <div class="item-box">
        <div class="item"><div class="light"></div></div>
      </div>
    </div>
    <script>
      var items = document.querySelectorAll(".item");
      items.forEach(x => {
        console.log(x);
        x.addEventListener("mousemove", e => {
          var x = -((e.offsetX - 60) / 60) * 15;
          var y = ((e.offsetY - 60) / 60) * 15;

          console.log(x + "," + y);

          var target = e.srcElement;
          if (e.srcElement.classList.contains("light")) {
            target = e.srcElement.parentNode;
          }

          target.style.transform = `rotateX(${y}deg) rotateY(${x}deg) scale3d(1.07, 1.07, 1.07)`;
        });
        x.addEventListener("mouseout", e => {
          var target = e.srcElement;
          if (e.srcElement.classList.contains("light")) {
            target = e.srcElement.parentNode;
          }

          target.style.transform = "";
        });
      });
    </script>
  </body>
</html>
